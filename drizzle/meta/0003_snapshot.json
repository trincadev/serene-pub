{
  "id": "a2060c02-2faa-4b5a-a55e-347b20ba228a",
  "prevId": "022d59d5-e880-4947-9567-562fb6b092cb",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.character_lore_entries": {
      "name": "character_lore_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "character_lore_entries_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "lorebook_id": {
          "name": "lorebook_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "character_binding_id": {
          "name": "character_binding_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "keys": {
          "name": "keys",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "use_regex": {
          "name": "use_regex",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "case_sensitive": {
          "name": "case_sensitive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "constant": {
          "name": "constant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "extra_json": {
          "name": "extra_json",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "character_lore_entries_lorebook_id_lorebooks_id_fk": {
          "name": "character_lore_entries_lorebook_id_lorebooks_id_fk",
          "tableFrom": "character_lore_entries",
          "tableTo": "lorebooks",
          "columnsFrom": [
            "lorebook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "character_lore_entries_character_binding_id_lorebook_bindings_id_fk": {
          "name": "character_lore_entries_character_binding_id_lorebook_bindings_id_fk",
          "tableFrom": "character_lore_entries",
          "tableTo": "lorebook_bindings",
          "columnsFrom": [
            "character_binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character_tags": {
      "name": "character_tags",
      "schema": "",
      "columns": {
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tag_id": {
          "name": "tag_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "character_tags_character_id_characters_id_fk": {
          "name": "character_tags_character_id_characters_id_fk",
          "tableFrom": "character_tags",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "character_tags_tag_id_tags_id_fk": {
          "name": "character_tags_tag_id_tags_id_fk",
          "tableFrom": "character_tags",
          "tableTo": "tags",
          "columnsFrom": [
            "tag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.characters": {
      "name": "characters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "characters_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nickname": {
          "name": "nickname",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "character_version": {
          "name": "character_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "personality": {
          "name": "personality",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scenario": {
          "name": "scenario",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_message": {
          "name": "first_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alternate_greetings": {
          "name": "alternate_greetings",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "example_dialogues": {
          "name": "example_dialogues",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "avatar": {
          "name": "avatar",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "creator_notes": {
          "name": "creator_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "creator_notes_multilingual": {
          "name": "creator_notes_multilingual",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "group_only_greetings": {
          "name": "group_only_greetings",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "post_history_instructions": {
          "name": "post_history_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "assets": {
          "name": "assets",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "lorebook_id": {
          "name": "lorebook_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "extensions": {
          "name": "extensions",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "is_favorite": {
          "name": "is_favorite",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "characters_user_id_users_id_fk": {
          "name": "characters_user_id_users_id_fk",
          "tableFrom": "characters",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "characters_lorebook_id_lorebooks_id_fk": {
          "name": "characters_lorebook_id_lorebooks_id_fk",
          "tableFrom": "characters",
          "tableTo": "lorebooks",
          "columnsFrom": [
            "lorebook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_characters": {
      "name": "chat_characters",
      "schema": "",
      "columns": {
        "chat_id": {
          "name": "chat_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "chat_characters_pk": {
          "name": "chat_characters_pk",
          "columns": [
            {
              "expression": "chat_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "character_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_characters_chat_id_chats_id_fk": {
          "name": "chat_characters_chat_id_chats_id_fk",
          "tableFrom": "chat_characters",
          "tableTo": "chats",
          "columnsFrom": [
            "chat_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_characters_character_id_characters_id_fk": {
          "name": "chat_characters_character_id_characters_id_fk",
          "tableFrom": "chat_characters",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_lorebooks": {
      "name": "chat_lorebooks",
      "schema": "",
      "columns": {
        "chat_id": {
          "name": "chat_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "lorebook_id": {
          "name": "lorebook_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_lorebooks_chat_id_chats_id_fk": {
          "name": "chat_lorebooks_chat_id_chats_id_fk",
          "tableFrom": "chat_lorebooks",
          "tableTo": "chats",
          "columnsFrom": [
            "chat_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_lorebooks_lorebook_id_lorebooks_id_fk": {
          "name": "chat_lorebooks_lorebook_id_lorebooks_id_fk",
          "tableFrom": "chat_lorebooks",
          "tableTo": "lorebooks",
          "columnsFrom": [
            "lorebook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_messages": {
      "name": "chat_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "chat_messages_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "chat_id": {
          "name": "chat_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "persona_id": {
          "name": "persona_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "is_edited": {
          "name": "is_edited",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "is_generating": {
          "name": "is_generating",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "adapter_id": {
          "name": "adapter_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_hidden": {
          "name": "is_hidden",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chat_messages_chat_id_chats_id_fk": {
          "name": "chat_messages_chat_id_chats_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "chats",
          "columnsFrom": [
            "chat_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_messages_user_id_users_id_fk": {
          "name": "chat_messages_user_id_users_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_messages_character_id_characters_id_fk": {
          "name": "chat_messages_character_id_characters_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "chat_messages_persona_id_personas_id_fk": {
          "name": "chat_messages_persona_id_personas_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "personas",
          "columnsFrom": [
            "persona_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_personas": {
      "name": "chat_personas",
      "schema": "",
      "columns": {
        "chat_id": {
          "name": "chat_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "persona_id": {
          "name": "persona_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "chat_personas_pk": {
          "name": "chat_personas_pk",
          "columns": [
            {
              "expression": "chat_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "persona_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_personas_chat_id_chats_id_fk": {
          "name": "chat_personas_chat_id_chats_id_fk",
          "tableFrom": "chat_personas",
          "tableTo": "chats",
          "columnsFrom": [
            "chat_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_personas_persona_id_personas_id_fk": {
          "name": "chat_personas_persona_id_personas_id_fk",
          "tableFrom": "chat_personas",
          "tableTo": "personas",
          "columnsFrom": [
            "persona_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chats": {
      "name": "chats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "chats_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_group": {
          "name": "is_group",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "scenario": {
          "name": "scenario",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "group_reply_strategy": {
          "name": "group_reply_strategy",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'ordered'"
        },
        "lorebook_id": {
          "name": "lorebook_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chats_user_id_users_id_fk": {
          "name": "chats_user_id_users_id_fk",
          "tableFrom": "chats",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chats_lorebook_id_lorebooks_id_fk": {
          "name": "chats_lorebook_id_lorebooks_id_fk",
          "tableFrom": "chats",
          "tableTo": "lorebooks",
          "columnsFrom": [
            "lorebook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.connections": {
      "name": "connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "connections_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base_url": {
          "name": "base_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extra_json": {
          "name": "extra_json",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "token_counter": {
          "name": "token_counter",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'estimate'"
        },
        "prompt_format": {
          "name": "prompt_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'vicuna'"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.context_configs": {
      "name": "context_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "context_configs_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "is_immutable": {
          "name": "is_immutable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template": {
          "name": "template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.history_entries": {
      "name": "history_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "history_entries_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "lorebook_id": {
          "name": "lorebook_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "month": {
          "name": "month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "day": {
          "name": "day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "keys": {
          "name": "keys",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "use_regex": {
          "name": "use_regex",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "case_sensitive": {
          "name": "case_sensitive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "constant": {
          "name": "constant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "extra_json": {
          "name": "extra_json",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "history_entries_lorebook_id_lorebooks_id_fk": {
          "name": "history_entries_lorebook_id_lorebooks_id_fk",
          "tableFrom": "history_entries",
          "tableTo": "lorebooks",
          "columnsFrom": [
            "lorebook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lorebook_bindings": {
      "name": "lorebook_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "lorebook_bindings_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "lorebook_id": {
          "name": "lorebook_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "persona_id": {
          "name": "persona_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "binding": {
          "name": "binding",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "lorebook_bindings_unique": {
          "name": "lorebook_bindings_unique",
          "columns": [
            {
              "expression": "lorebook_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "character_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "persona_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lorebook_bindings_lorebook_id_lorebooks_id_fk": {
          "name": "lorebook_bindings_lorebook_id_lorebooks_id_fk",
          "tableFrom": "lorebook_bindings",
          "tableTo": "lorebooks",
          "columnsFrom": [
            "lorebook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lorebook_bindings_character_id_characters_id_fk": {
          "name": "lorebook_bindings_character_id_characters_id_fk",
          "tableFrom": "lorebook_bindings",
          "tableTo": "characters",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "lorebook_bindings_persona_id_personas_id_fk": {
          "name": "lorebook_bindings_persona_id_personas_id_fk",
          "tableFrom": "lorebook_bindings",
          "tableTo": "personas",
          "columnsFrom": [
            "persona_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lorebooks": {
      "name": "lorebooks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "lorebooks_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "extra_json": {
          "name": "extra_json",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "lorebooks_user_id_users_id_fk": {
          "name": "lorebooks_user_id_users_id_fk",
          "tableFrom": "lorebooks",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.personas": {
      "name": "personas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "personas_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "avatar": {
          "name": "avatar",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "lorebook_id": {
          "name": "lorebook_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "personas_user_id_users_id_fk": {
          "name": "personas_user_id_users_id_fk",
          "tableFrom": "personas",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "personas_lorebook_id_lorebooks_id_fk": {
          "name": "personas_lorebook_id_lorebooks_id_fk",
          "tableFrom": "personas",
          "tableTo": "lorebooks",
          "columnsFrom": [
            "lorebook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prompt_configs": {
      "name": "prompt_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "prompt_configs_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "is_immutable": {
          "name": "is_immutable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sampling_configs": {
      "name": "sampling_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "sampling_configs_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_immutable": {
          "name": "is_immutable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "temperature": {
          "name": "temperature",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0.7
        },
        "temperature_enabled": {
          "name": "temperature_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "top_p": {
          "name": "top_p",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0.92
        },
        "top_p_enabled": {
          "name": "top_p_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "top_k": {
          "name": "top_k",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 80
        },
        "top_k_enabled": {
          "name": "top_k_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "repetition_penalty": {
          "name": "repetition_penalty",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 1.15
        },
        "repetition_penalty_enabled": {
          "name": "repetition_penalty_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "frequency_penalty": {
          "name": "frequency_penalty",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0.2
        },
        "frequency_penalty_enabled": {
          "name": "frequency_penalty_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "presence_penalty": {
          "name": "presence_penalty",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0.6
        },
        "presence_penalty_enabled": {
          "name": "presence_penalty_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "response_tokens": {
          "name": "response_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 512
        },
        "response_tokens_enabled": {
          "name": "response_tokens_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "response_tokens_unlocked": {
          "name": "response_tokens_unlocked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "context_tokens": {
          "name": "context_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 4096
        },
        "context_tokens_enabled": {
          "name": "context_tokens_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "context_tokens_unlocked": {
          "name": "context_tokens_unlocked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "seed": {
          "name": "seed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": -1
        },
        "seed_enabled": {
          "name": "seed_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_settings": {
      "name": "system_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "system_settings_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "ollama_manager_enabled": {
          "name": "ollama_manager_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "ollama_base_url": {
          "name": "ollama_base_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'http://localhost:11434/'"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tags": {
      "name": "tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tags_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "users_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "active_connection_id": {
          "name": "active_connection_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "active_sampling_id": {
          "name": "active_sampling_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "active_context_config_id": {
          "name": "active_context_config_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "active_prompt_config_id": {
          "name": "active_prompt_config_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "theme": {
          "name": "theme",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'hamlindigo'"
        },
        "dark_mode": {
          "name": "dark_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "users_active_connection_id_connections_id_fk": {
          "name": "users_active_connection_id_connections_id_fk",
          "tableFrom": "users",
          "tableTo": "connections",
          "columnsFrom": [
            "active_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "users_active_sampling_id_sampling_configs_id_fk": {
          "name": "users_active_sampling_id_sampling_configs_id_fk",
          "tableFrom": "users",
          "tableTo": "sampling_configs",
          "columnsFrom": [
            "active_sampling_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "users_active_context_config_id_context_configs_id_fk": {
          "name": "users_active_context_config_id_context_configs_id_fk",
          "tableFrom": "users",
          "tableTo": "context_configs",
          "columnsFrom": [
            "active_context_config_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "users_active_prompt_config_id_prompt_configs_id_fk": {
          "name": "users_active_prompt_config_id_prompt_configs_id_fk",
          "tableFrom": "users",
          "tableTo": "prompt_configs",
          "columnsFrom": [
            "active_prompt_config_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.world_lore_entries": {
      "name": "world_lore_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "world_lore_entries_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "lorebook_id": {
          "name": "lorebook_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "keys": {
          "name": "keys",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "use_regex": {
          "name": "use_regex",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "case_sensitive": {
          "name": "case_sensitive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "constant": {
          "name": "constant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "extra_json": {
          "name": "extra_json",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "(CURRENT_TIMESTAMP)"
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "world_lore_entries_lorebook_id_lorebooks_id_fk": {
          "name": "world_lore_entries_lorebook_id_lorebooks_id_fk",
          "tableFrom": "world_lore_entries",
          "tableTo": "lorebooks",
          "columnsFrom": [
            "lorebook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}